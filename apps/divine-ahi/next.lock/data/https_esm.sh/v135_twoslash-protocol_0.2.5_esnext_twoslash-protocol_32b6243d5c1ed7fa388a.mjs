/* esm.sh - esbuild bundle(twoslash-protocol@0.2.5) esnext production */
function c(o,e,n=!0){return n?e[0]<=o&&o<=e[1]:e[0]<o&&o<e[1]}function g(o,e,n=!0){return e.find(s=>c(o,s,n))}function f(o){o.sort((n,s)=>n[0]-s[0]);let e=[];for(let n of o){let s=e[e.length-1];s&&s[1]>=n[0]?s[1]=Math.max(s[1],n[1]):e.push(n)}return e}function u(o,e=!1){let n=o.split(/(\r?\n)/g),s=0,r=[];for(let t=0;t<n.length;t+=2){let i=e?n[t]+(n[t+1]||""):n[t];r.push([i,s]),s+=n[t].length,s+=n[t+1]?.length||0}return r}function a(o){let e=u(o,!0).map(([r])=>r);function n(r){let t=r,i=0;for(let l of e){if(t<l.length)break;t-=l.length,i++}return{line:i,character:t}}function s(r,t){let i=0;for(let l=0;l<r;l++)i+=e[l].length;return i+=t,i}return{lines:e,indexToPos:n,posToIndex:s}}function h(o,e,n){let s=f(e).sort((t,i)=>i[0]-t[0]),r=o;for(let t of s){let i=t[1]-t[0];r=r.slice(0,t[0])+r.slice(t[1]),n?.forEach(l=>{l.start+l.length<=t[0]||(l.start<t[1]?l.start=-1:l.start-=i)})}return{code:r,removals:s,nodes:n}}function p(o,e){let n=typeof e=="string"?a(e).indexToPos:e,s=o.filter(r=>r.start>=0).sort((r,t)=>r.start-t.start||r.type.localeCompare(t.type));return s.forEach(r=>Object.assign(r,n(r.start))),s}export{a as createPositionConverter,c as isInRange,g as isInRanges,f as mergeRanges,h as removeCodeRanges,p as resolveNodePositions,u as splitLines};
//# sourceMappingURL=twoslash-protocol.mjs.map